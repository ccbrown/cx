// THIS FILE WAS GENERATED VIA TRANSPILING. DO NOT MODIFY.
#include <gostd/unicode/utf8.hpp>

#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wparentheses-equality"

namespace gostd::unicode::utf8 {

::gostd::Array<::gostd::Uint8, 256> first = {::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(as), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s1), ::gostd::Uint8(s2), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s4), ::gostd::Uint8(s3), ::gostd::Uint8(s3), ::gostd::Uint8(s5), ::gostd::Uint8(s6), ::gostd::Uint8(s6), ::gostd::Uint8(s6), ::gostd::Uint8(s7), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx), ::gostd::Uint8(xx)};

::gostd::Array<acceptRange, 5> acceptRanges = {acceptRange({locb, hicb}), acceptRange({160, hicb}), acceptRange({locb, 159}), acceptRange({144, hicb}), acceptRange({locb, 143})};

::gostd::Bool FullRune(::gostd::Slice<::gostd::Byte> p) {
auto n=::gostd::Len(p);
if ((n==0)) {
return false;
};
auto x=first[p[0]];
if ((n>=::gostd::Int((x&7)))) {
return true;
};
auto accept=acceptRanges[(x>>4)];
if ((n>1)) {
if (auto c=p[1]; ((c<accept.lo)||(accept.hi<c))) {
return true;
} else if (((n>2)&&(((p[2]<locb)||(hicb<p[2]))))) {
return true;
};
};
return false;
}

::gostd::Bool FullRuneInString(::gostd::String s) {
auto n=::gostd::Len(s);
if ((n==0)) {
return false;
};
auto x=first[s[0]];
if ((n>=::gostd::Int((x&7)))) {
return true;
};
auto accept=acceptRanges[(x>>4)];
if ((n>1)) {
if (auto c=s[1]; ((c<accept.lo)||(accept.hi<c))) {
return true;
} else if (((n>2)&&(((s[2]<locb)||(hicb<s[2]))))) {
return true;
};
};
return false;
}

::gostd::Tuple<::gostd::Rune, ::gostd::Int> DecodeRune(::gostd::Slice<::gostd::Byte> p) {
::gostd::Rune r;
::gostd::Int size;
{
auto n=::gostd::Len(p);
if ((n<1)) {
return {RuneError, 0};
};
auto p0=p[0];
auto x=first[p0];
if ((x>=as)) {
auto mask=((::gostd::Rune(x)<<31)>>31);
return {((::gostd::Rune(p[0])&~mask)|(RuneError&mask)), 1};
};
auto sz=(x&7);
auto accept=acceptRanges[(x>>4)];
if ((n<::gostd::Int(sz))) {
return {RuneError, 1};
};
auto b1=p[1];
if (((b1<accept.lo)||(accept.hi<b1))) {
return {RuneError, 1};
};
if ((sz==2)) {
return {((::gostd::Rune((p0&mask2))<<6)|::gostd::Rune((b1&maskx))), 2};
};
auto b2=p[2];
if (((b2<locb)||(hicb<b2))) {
return {RuneError, 1};
};
if ((sz==3)) {
return {(((::gostd::Rune((p0&mask3))<<12)|(::gostd::Rune((b1&maskx))<<6))|::gostd::Rune((b2&maskx))), 3};
};
auto b3=p[3];
if (((b3<locb)||(hicb<b3))) {
return {RuneError, 1};
};
return {((((::gostd::Rune((p0&mask4))<<18)|(::gostd::Rune((b1&maskx))<<12))|(::gostd::Rune((b2&maskx))<<6))|::gostd::Rune((b3&maskx))), 4};
}}


::gostd::Tuple<::gostd::Rune, ::gostd::Int> DecodeRuneInString(::gostd::String s) {
::gostd::Rune r;
::gostd::Int size;
{
auto n=::gostd::Len(s);
if ((n<1)) {
return {RuneError, 0};
};
auto s0=s[0];
auto x=first[s0];
if ((x>=as)) {
auto mask=((::gostd::Rune(x)<<31)>>31);
return {((::gostd::Rune(s[0])&~mask)|(RuneError&mask)), 1};
};
auto sz=(x&7);
auto accept=acceptRanges[(x>>4)];
if ((n<::gostd::Int(sz))) {
return {RuneError, 1};
};
auto s1=s[1];
if (((s1<accept.lo)||(accept.hi<s1))) {
return {RuneError, 1};
};
if ((sz==2)) {
return {((::gostd::Rune((s0&mask2))<<6)|::gostd::Rune((s1&maskx))), 2};
};
auto s2=s[2];
if (((s2<locb)||(hicb<s2))) {
return {RuneError, 1};
};
if ((sz==3)) {
return {(((::gostd::Rune((s0&mask3))<<12)|(::gostd::Rune((s1&maskx))<<6))|::gostd::Rune((s2&maskx))), 3};
};
auto s3=s[3];
if (((s3<locb)||(hicb<s3))) {
return {RuneError, 1};
};
return {((((::gostd::Rune((s0&mask4))<<18)|(::gostd::Rune((s1&maskx))<<12))|(::gostd::Rune((s2&maskx))<<6))|::gostd::Rune((s3&maskx))), 4};
}}


::gostd::Tuple<::gostd::Rune, ::gostd::Int> DecodeLastRune(::gostd::Slice<::gostd::Byte> p) {
::gostd::Rune r;
::gostd::Int size;
{
auto end=::gostd::Len(p);
if ((end==0)) {
return {RuneError, 0};
};
auto start=(end-1);
r=::gostd::Rune(p[start]);
if ((r<RuneSelf)) {
return {r, 1};
};
auto lim=(end-UTFMax);
if ((lim<0)) {
lim=0;
};
for (start--;(start>=lim);start--){
if (RuneStart(p[start])) {
break;
};
};
if ((start<0)) {
start=0;
};
auto [r, size]=DecodeRune(p.Tail(start));
if (((start+size)!=end)) {
return {RuneError, 1};
};
return {r, size};
}}


::gostd::Tuple<::gostd::Rune, ::gostd::Int> DecodeLastRuneInString(::gostd::String s) {
::gostd::Rune r;
::gostd::Int size;
{
auto end=::gostd::Len(s);
if ((end==0)) {
return {RuneError, 0};
};
auto start=(end-1);
r=::gostd::Rune(s[start]);
if ((r<RuneSelf)) {
return {r, 1};
};
auto lim=(end-UTFMax);
if ((lim<0)) {
lim=0;
};
for (start--;(start>=lim);start--){
if (RuneStart(s[start])) {
break;
};
};
if ((start<0)) {
start=0;
};
auto [r, size]=DecodeRuneInString(s.Tail(start));
if (((start+size)!=end)) {
return {RuneError, 1};
};
return {r, size};
}}


::gostd::Int RuneLen(::gostd::Rune r) {
{if (((r<0))) {
_case27055:
return -1;
}
 else if (((r<=rune1Max))) {
_case27080:
return 1;
}
 else if (((r<=rune2Max))) {
_case27112:
return 2;
}
 else if ((((surrogateMin<=r)&&(r<=surrogateMax)))) {
_case27144:
return -1;
}
 else if (((r<=rune3Max))) {
_case27202:
return 3;
}
 else if (((r<=MaxRune))) {
_case27234:
return 4;
}
};
return -1;
}

::gostd::Int EncodeRune(::gostd::Slice<::gostd::Byte> p, ::gostd::Rune r) {
{if (auto i=::gostd::Uint32(r); ((i<=rune1Max))) {
_case27557:
p[0]=::gostd::Byte(r);
return 1;
}
 else if (((i<=rune2Max))) {
_case27606:
auto _27628=p[1];
p[0]=(t2|::gostd::Byte((r>>6)));
p[1]=(tx|(::gostd::Byte(r)&maskx));
return 2;
}
 else if (((i>MaxRune)) || (((surrogateMin<=i)&&(i<=surrogateMax)))) {
_case27729:
r=RuneError;
goto _case27818;
}
 else if (((i<=rune3Max))) {
_case27818:
auto _27840=p[2];
p[0]=(t3|::gostd::Byte((r>>12)));
p[1]=(tx|(::gostd::Byte((r>>6))&maskx));
p[2]=(tx|(::gostd::Byte(r)&maskx));
return 3;
}
 else {
_case27973:auto _27984=p[3];
p[0]=(t4|::gostd::Byte((r>>18)));
p[1]=(tx|(::gostd::Byte((r>>12))&maskx));
p[2]=(tx|(::gostd::Byte((r>>6))&maskx));
p[3]=(tx|(::gostd::Byte(r)&maskx));
return 4;
}
};
}

::gostd::Int RuneCount(::gostd::Slice<::gostd::Byte> p) {
auto np=::gostd::Len(p);
::gostd::Int n;
;
for (::gostd::Int i=0;(i<np);){
n++;
auto c=p[i];
if ((c<RuneSelf)) {
i++;
continue;
};
auto x=first[c];
if ((x==xx)) {
i++;
continue;
};
auto size=::gostd::Int((x&7));
if (((i+size)>np)) {
i++;
continue;
};
auto accept=acceptRanges[(x>>4)];
if (auto c=p[(i+1)]; ((c<accept.lo)||(accept.hi<c))) {
size=1;
} else if ((size==2)) {
} else if (auto c=p[(i+2)]; ((c<locb)||(hicb<c))) {
size=1;
} else if ((size==3)) {
} else if (auto c=p[(i+3)]; ((c<locb)||(hicb<c))) {
size=1;
};
i+=size;
};
return n;
}

::gostd::Int RuneCountInString(::gostd::String s) {
::gostd::Int n;
{
auto ns=::gostd::Len(s);
for (::gostd::Int i=0;(i<ns);n++){
auto c=s[i];
if ((c<RuneSelf)) {
i++;
continue;
};
auto x=first[c];
if ((x==xx)) {
i++;
continue;
};
auto size=::gostd::Int((x&7));
if (((i+size)>ns)) {
i++;
continue;
};
auto accept=acceptRanges[(x>>4)];
if (auto c=s[(i+1)]; ((c<accept.lo)||(accept.hi<c))) {
size=1;
} else if ((size==2)) {
} else if (auto c=s[(i+2)]; ((c<locb)||(hicb<c))) {
size=1;
} else if ((size==3)) {
} else if (auto c=s[(i+3)]; ((c<locb)||(hicb<c))) {
size=1;
};
i+=size;
};
return n;
}}


::gostd::Bool RuneStart(::gostd::Byte b) {
return ((b&192)!=128);
}

::gostd::Bool Valid(::gostd::Slice<::gostd::Byte> p) {
auto n=::gostd::Len(p);
for (::gostd::Int i=0;(i<n);){
auto pi=p[i];
if ((pi<RuneSelf)) {
i++;
continue;
};
auto x=first[pi];
if ((x==xx)) {
return false;
};
auto size=::gostd::Int((x&7));
if (((i+size)>n)) {
return false;
};
auto accept=acceptRanges[(x>>4)];
if (auto c=p[(i+1)]; ((c<accept.lo)||(accept.hi<c))) {
return false;
} else if ((size==2)) {
} else if (auto c=p[(i+2)]; ((c<locb)||(hicb<c))) {
return false;
} else if ((size==3)) {
} else if (auto c=p[(i+3)]; ((c<locb)||(hicb<c))) {
return false;
};
i+=size;
};
return true;
}

::gostd::Bool ValidString(::gostd::String s) {
auto n=::gostd::Len(s);
for (::gostd::Int i=0;(i<n);){
auto si=s[i];
if ((si<RuneSelf)) {
i++;
continue;
};
auto x=first[si];
if ((x==xx)) {
return false;
};
auto size=::gostd::Int((x&7));
if (((i+size)>n)) {
return false;
};
auto accept=acceptRanges[(x>>4)];
if (auto c=s[(i+1)]; ((c<accept.lo)||(accept.hi<c))) {
return false;
} else if ((size==2)) {
} else if (auto c=s[(i+2)]; ((c<locb)||(hicb<c))) {
return false;
} else if ((size==3)) {
} else if (auto c=s[(i+3)]; ((c<locb)||(hicb<c))) {
return false;
};
i+=size;
};
return true;
}

::gostd::Bool ValidRune(::gostd::Rune r) {
{if ((((0<=r)&&(r<surrogateMin)))) {
_case31294:
return true;
}
 else if ((((surrogateMax<r)&&(r<=MaxRune)))) {
_case31342:
return true;
}
};
return false;
}

} // namespace gostd::unicode::utf8

#pragma clang diagnostic pop
